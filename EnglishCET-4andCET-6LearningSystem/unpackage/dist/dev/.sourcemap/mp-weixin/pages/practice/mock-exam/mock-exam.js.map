{"version":3,"file":"mock-exam.js","sources":["pages/practice/mock-exam/mock-exam.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJhY3RpY2UvbW9jay1leGFtL21vY2stZXhhbS52dWU"],"sourcesContent":["<script setup>\r\nimport { ref, onMounted, onUnmounted } from 'vue'\r\n\r\n/**\r\n * @description 考试时间（分钟）\r\n */\r\nconst EXAM_TIME = 130 // 标准四六级考试时间\r\n\r\n/**\r\n * @description 考试状态\r\n */\r\nconst examStatus = ref('ready') // ready-准备开始, ongoing-考试中, finished-已结束\r\n\r\n/**\r\n * @description 剩余时间（秒）\r\n */\r\nconst remainingTime = ref(EXAM_TIME * 60)\r\n\r\n/**\r\n * @description 当前选择的类别\r\n */\r\nconst currentCategory = ref('CET4')\r\n\r\n/**\r\n * @description 类别选项\r\n */\r\nconst categoryOptions = ref([\r\n  { value: 'CET4', label: '大学英语四级' },\r\n  { value: 'CET6', label: '大学英语六级' }\r\n])\r\n\r\n/**\r\n * @description 考试数据\r\n */\r\nconst examData = ref({\r\n  listening: [],\r\n  reading: [],\r\n  translation: [],\r\n  writing: []\r\n})\r\n\r\n/**\r\n * @description 当前考试部分\r\n */\r\nconst currentSection = ref('listening') // listening, reading, translation, writing\r\n\r\n/**\r\n * @description 用户答案\r\n */\r\nconst userAnswers = ref({\r\n  listening: [],\r\n  reading: [],\r\n  translation: '',\r\n  writing: ''\r\n})\r\n\r\n/**\r\n * @description 分数\r\n */\r\nconst scores = ref({\r\n  listening: 0,\r\n  reading: 0,\r\n  translation: 0,\r\n  writing: 0,\r\n  total: 0\r\n})\r\n\r\n/**\r\n * @description 音频播放器\r\n */\r\nconst audioContext = ref(null)\r\nconst isPlaying = ref(false)\r\n\r\n/**\r\n * @description 计时器\r\n */\r\nlet timer = null\r\n\r\n/**\r\n * @description 加载考试题目\r\n */\r\nconst loadExamQuestions = async () => {\r\n  try {\r\n    uni.showLoading({\r\n      title: '加载中...'\r\n    })\r\n    console.log(\"currentCategory.value\",currentCategory.value)\r\n    const { result } = await uniCloud.callFunction({\r\n      name: 'getMockExamQuestions',\r\n      data: {\r\n        category: currentCategory.value\r\n      }\r\n    })\r\n    \r\n    if (result.code === 0) {\r\n      examData.value = result.data\r\n      // 初始化用户答案\r\n      userAnswers.value = {\r\n        listening: new Array(examData.value.listening[0].answers.length -1).fill(''),\r\n        reading: new Array(examData.value.reading[0].answers.length).fill(''),\r\n        translation: '',\r\n        writing: ''\r\n      }\r\n      console.log(\"userAnswers.value\",userAnswers.value)\r\n    } else {\r\n      throw new Error(result.msg || '加载失败')\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n    uni.showToast({\r\n      title: '加载题目失败',\r\n      icon: 'none'\r\n    })\r\n  } finally {\r\n    uni.hideLoading()\r\n  }\r\n}\r\n\r\n/**\r\n * @description 开始考试\r\n */\r\nconst startExam = () => {\r\n  examStatus.value = 'ongoing'\r\n  currentSection.value = 'listening'\r\n  console.log(\"currentCategory\",currentCategory.value)\r\n  loadExamQuestions()\r\n  startTimer()\r\n}\r\n\r\n/**\r\n * @description 切换考试部分\r\n */\r\nconst switchSection = (section) => {\r\n  if (audioContext.value) {\r\n    audioContext.value.pause()\r\n    isPlaying.value = false\r\n  }\r\n  currentSection.value = section\r\n  console.log(\"当前部分考试内容\",examData.value[section][0])\r\n}\r\n\r\n/**\r\n * @description 播放音频\r\n */\r\nconst playAudio = () => {\r\n  console.log(\"audioContext.value\",audioContext.value)\r\n  console.log(examData.value.listening[0])\r\n  console.log(\"isPlaying.value\",isPlaying.value)\r\n  if (!examData.value.listening[0]?.audio_file) return\r\n  \r\n  //if (audioContext.value) {\r\n    //audioContext.value.stop()\r\n  //}\r\n  if (!audioContext.value) {\r\n  audioContext.value = uni.createInnerAudioContext()\r\n  audioContext.value.src = examData.value.listening[0].audio_file\r\n  console.log(audioContext.value.src)\r\n\r\n  \r\n  audioContext.value.onPlay(() => {\r\n    isPlaying.value = true\r\n  })\r\n  \r\n  audioContext.value.onEnded(() => {\r\n    isPlaying.value = false\r\n  })\r\n\r\n  audioContext.value.onError(() => {\r\n    isPlaying.value = false\r\n    uni.showToast({\r\n      title: '音频播放失败',\r\n      icon: 'none'\r\n    })\r\n  })\r\n}\r\n\r\n  if (isPlaying.value) {\r\n    if(audioContext.value){ \r\n      audioContext.value.pause()\r\n      isPlaying.value = false \r\n      console.log(\"暂停音频\")\r\n    }\r\n  } else {\r\n    if(audioContext.value){ \r\n      audioContext.value.play()\r\n      isPlaying.value = true\r\n      console.log(\"播放音频\")\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @description 选择答案\r\n */\r\nconst selectAnswer = (section, index, answer) => {\r\n  if (section === 'listening' || section === 'reading') {\r\n    userAnswers.value[section][index] = answer\r\n  }\r\n  console.log(\"userAnswers.value\",userAnswers.value)\r\n}\r\n\r\n/**\r\n * @description 更新文本答案\r\n */\r\nconst updateTextAnswer = (section, value) => {\r\n  userAnswers.value[section] = value\r\n}\r\n\r\n/**\r\n * @description 检查英文输入\r\n */\r\nconst checkEnglishInput = (e, section) => {\r\n  const text = e.detail.value\r\n  if (/[^\\x00-\\xff\\s\\p{P}]/u.test(text)) {\r\n    uni.showToast({\r\n      title: '请输入英文',\r\n      icon: 'none'\r\n    })\r\n    userAnswers.value[section] = text.replace(/[^\\x00-\\xff\\s\\p{P}]/gu, '')\r\n  }\r\n}\r\n\r\n/**\r\n * @description 开始计时\r\n */\r\nconst startTimer = () => {\r\n  timer = setInterval(() => {\r\n    if (remainingTime.value > 0) {\r\n      remainingTime.value--\r\n    } else {\r\n      finishExam()\r\n    }\r\n  }, 1000)\r\n}\r\n\r\n/**\r\n * @description 结束考试\r\n */\r\nconst finishExam = async () => {\r\n  //检查用户作答是否完整，对于听力与阅读，需要检查每个问题的作答情况  \r\n  const listeningIsAnswered = userAnswers.value.listening.every(answer => answer !== '')\r\n  const readingIsAnswered = userAnswers.value.reading.every(answer => answer !== '')\r\n  const translationIsAnswered = userAnswers.value.translation !== ''\r\n  const writingIsAnswered = userAnswers.value.writing !== ''\r\n  if (!listeningIsAnswered || !readingIsAnswered || !translationIsAnswered || !writingIsAnswered) {\r\n    uni.showToast({\r\n      title: '请先作答',\r\n      icon: 'none'\r\n    })\r\n    return  \r\n  }\r\n  clearInterval(timer)\r\n  examStatus.value = 'finished'\r\n  if (audioContext.value) { \r\n    audioContext.value.stop()\r\n    isPlaying.value = false\r\n  }\r\n  \r\n  // 计算分数\r\n  // 听力部分，结果保留一位小数\r\n  const listeningScore = Math.round(examData.value.listening[0].answers.reduce((total, answer, index) => {\r\n    return total + (userAnswers.value.listening[index] === answer.content ? answer.score : 0)\r\n  }, 0) * 10) / 10\r\n  \r\n  \r\n  // 阅读部分\r\n  //const readingScore = examData.value.reading[0].answers.reduce((total, answer, index) => {\r\n    //return total + (userAnswers.value.reading[index] === answer.content ? answer.score : 0)\r\n  //}, 0)\r\n  const readingScore = Math.round(examData.value.reading[0].answers.reduce((total, answer, index) => {\r\n    return total + (userAnswers.value.reading[index] === answer.content ? 49.7 : 0)\r\n  }, 0) * 10) / 10\r\n  \r\n  // 翻译和写作部分使用模拟评分\r\n  const translationScore = Math.round((examData.value.translation[0].score - Math.random() * 20) * 10) / 10\r\n  const writingScore = Math.round((examData.value.writing[0].score - Math.random() * 20) * 10) / 10\r\n  \r\n  scores.value = {\r\n    listening: listeningScore,\r\n    reading: readingScore,\r\n    translation: translationScore,\r\n    writing: writingScore,\r\n    total: Math.round((listeningScore + readingScore + translationScore + writingScore) * 10) / 10\r\n  }\r\n  \r\n  // 保存练习记录\r\n  try {\r\n    await uniCloud.callFunction({\r\n      name: 'saveAndUpdatePracticeRecord',\r\n      data: {\r\n        userId: uni.getStorageSync('userInfo')._id,\r\n        practice_type: 'mock',\r\n        category: currentCategory.value,\r\n        scores: scores.value,\r\n        duration: EXAM_TIME * 60 - remainingTime.value\r\n      }\r\n    })\r\n  } catch (e) {\r\n    console.error('保存练习记录失败:', e)\r\n  }\r\n  \r\n  \r\n  \r\n}\r\n\r\n/**\r\n * @description 重新开始\r\n */\r\nconst restart = () => {\r\n  uni.showModal({\r\n    title: '提示',\r\n    content: '确定要重新开始考试吗？',\r\n    success: (res) => {\r\n      if (res.confirm) {\r\n        if (audioContext.value) {\r\n          audioContext.value.stop()\r\n          audioContext.value.destroy()\r\n          isPlaying.value = false\r\n        }\r\n        examStatus.value = 'ready'\r\n        remainingTime.value = EXAM_TIME * 60\r\n        userAnswers.value = {\r\n          listening: [],\r\n          reading: [],\r\n          translation: '',\r\n          writing: ''\r\n        }\r\n        scores.value = {\r\n          listening: 0,\r\n          reading: 0,\r\n          translation: 0,\r\n          writing: 0,\r\n          total: 0\r\n        }\r\n        loadExamQuestions()\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * @description 格式化时间\r\n */\r\nconst formatTime = (seconds) => {\r\n  const hours = Math.floor(seconds / 3600)\r\n  const minutes = Math.floor((seconds % 3600) / 60)\r\n  const secs = seconds % 60\r\n  return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`\r\n}\r\n\r\nonMounted(() => {\r\n  if (!uni.getStorageSync('userInfo')) {\r\n    uni.showToast({\r\n      title: '请先登录',\r\n      icon: 'none',\r\n      duration: 2000\r\n    })\r\n    uni.navigateTo({\r\n      url: '/pages/login/login'\r\n    })\r\n  } else {\r\n    loadExamQuestions()\r\n  }\r\n})\r\n\r\nonUnmounted(() => {\r\n  if (timer) {\r\n    clearInterval(timer)\r\n  }\r\n  if (audioContext.value) {\r\n    isPlaying.value = false\r\n    audioContext.value.stop()\r\n    audioContext.value.destroy()\r\n    console.log(\"卸载音频\")\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <view class=\"container\">\r\n    <!-- 考试准备页 -->\r\n    <view v-if=\"examStatus === 'ready'\" class=\"exam-ready\">\r\n      <view class=\"category-selector\">\r\n        <view\r\n          class=\"category-item\"\r\n          v-for=\"item in categoryOptions\"\r\n          :key=\"item.value\"\r\n          :class=\"{ active: currentCategory === item.value }\"\r\n          @tap=\"currentCategory = item.value\"\r\n        >\r\n          {{ item.label }}\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"exam-info\">\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">考试时长：</text>\r\n          <text class=\"value\">{{ EXAM_TIME }}分钟</text>\r\n        </view>\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">试卷结构：</text>\r\n          <text class=\"value\">听力、阅读、翻译、写作</text>\r\n        </view>\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">总分：</text>\r\n          <text class=\"value\">710分</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <button class=\"start-btn\" @tap=\"startExam\">开始考试</button>\r\n    </view>\r\n    \r\n    <!-- 考试进行中 -->\r\n    <view v-else-if=\"examStatus === 'ongoing'\" class=\"exam-ongoing\">\r\n      <!-- 顶部导航 -->\r\n      <view class=\"exam-nav\">\r\n        <view class=\"timer\">剩余时间：{{ formatTime(remainingTime) }}</view>\r\n        <view class=\"section-tabs\">\r\n          <view\r\n            class=\"tab-item\"\r\n            v-for=\"(label, key) in { listening: '听力', reading: '阅读', translation: '翻译', writing: '写作' }\"\r\n            :key=\"key\"\r\n            :class=\"{ active: currentSection === key }\"\r\n            @tap=\"switchSection(key)\"\r\n          >\r\n            {{ label }}\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 听力部分 -->\r\n      <scroll-view\r\n        v-if=\"currentSection === 'listening' && examData.listening.length > 0\"\r\n        class=\"exam-content\"\r\n        scroll-y\r\n      >\r\n        <view class=\"audio-player\" @tap=\"playAudio\">\r\n          <text class=\"iconfont\">{{ isPlaying ? '暂停' : '播放' }}</text>\r\n        </view>\r\n        \r\n        <view\r\n          class=\"question-section\"\r\n          v-for=\"(section, sectionIndex) in examData.listening[0].question_content\"\r\n          :key=\"sectionIndex\"\r\n        >\r\n          <text class=\"section-name\">{{ section.section_name }}</text>\r\n          <text class=\"section-desc\">{{ section.description }}</text>\r\n          \r\n          <view\r\n            class=\"question-item\"\r\n            v-for=\"(question, questionIndex) in section.questions\"\r\n            :key=\"questionIndex\"\r\n          >\r\n            <text class=\"question-text\">{{ question.description1 }}</text>\r\n            <view class=\"options\">\r\n              <view class=\"option-item\" v-for=\"(option, key) in question.options\" :key=\"option.tips\"> \r\n                <text class=\"option-number\">Question {{ option.tips }}</text>\r\n                <view\r\n                  class=\"option-choice\"\r\n                  v-for=\"(content, key) in option.content\"\r\n                  :key=\"key\"\r\n                  :class=\"{ active: userAnswers.listening[option.tips -1] === key }\"\r\n                  @tap=\"selectAnswer('listening', option.tips -1, key)\"\r\n                >\r\n                  <text class=\"option-key\">{{ key }}</text>\r\n                  <text class=\"option-content\">{{ content }}</text>\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </scroll-view>\r\n      \r\n      <!-- 阅读部分 -->\r\n      <scroll-view\r\n        v-if=\"currentSection === 'reading' && examData.reading.length > 0\"\r\n        class=\"exam-content\"\r\n        scroll-y\r\n      >\r\n        <view class=\"reading-passage\">\r\n          <text class=\"passage-title\">{{ examData.reading[0].little_title }}</text>\r\n          <text class=\"passage-content\">{{ examData.reading[0].passage }}</text>\r\n        </view>\r\n        \r\n        <view\r\n          class=\"question-item\"\r\n          v-for=\"(question, index) in examData.reading[0].questions\"\r\n          :key=\"index\"\r\n        >\r\n          <text class=\"question-number\">Question {{ question.question_number }}</text>\r\n          <text class=\"question-text\">{{ question.question }}</text>\r\n          <view class=\"options\">\r\n            <view\r\n              class=\"option-choice\"\r\n              v-for=\"(content, key) in question.options\"\r\n              :key=\"key\"\r\n              :class=\"{ active: userAnswers.reading[index] === key }\"\r\n              @tap=\"selectAnswer('reading', index, key)\"\r\n            >\r\n              <text class=\"option-key\">{{ key }}</text>\r\n              <text class=\"option-content\">{{ content }}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </scroll-view>\r\n      \r\n      <!-- 翻译部分 -->\r\n      <scroll-view\r\n        v-if=\"currentSection === 'translation' && examData.translation.length > 0\"\r\n        class=\"exam-content\"\r\n        scroll-y\r\n      >\r\n        <view class=\"translation-content\">\r\n          <text class=\"section-title\">{{ examData.translation[0].little_title }}</text>\r\n          <view class=\"original-text\">\r\n            <text class=\"text-label\">原文：</text>\r\n            <text class=\"text-content\">{{ examData.translation[0].original_text }}</text>\r\n          </view>\r\n          \r\n          <view class=\"translation-area\">\r\n            <text class=\"text-label\">译文：</text>\r\n            <textarea\r\n              class=\"translation-input\"\r\n              v-model=\"userAnswers.translation\"\r\n              placeholder=\"请输入英文翻译...\"\r\n              @blur=\"checkEnglishInput($event, 'translation')\"\r\n              maxlength=\"-1\"\r\n            />\r\n          </view>\r\n        </view>\r\n      </scroll-view>\r\n      \r\n      <!-- 写作部分 -->\r\n      <scroll-view\r\n        v-if=\"currentSection === 'writing' && examData.writing.length > 0\"\r\n        class=\"exam-content\"\r\n        scroll-y\r\n      >\r\n        <view class=\"writing-content\">\r\n          <text class=\"section-title\">{{ examData.writing[0].little_title }}</text>\r\n          <text class=\"writing-title\">{{ examData.writing[0].title }}</text>\r\n          \r\n          <view class=\"word-limit\">\r\n            字数要求：{{ examData.writing[0].word_limit.min }}-{{ examData.writing[0].word_limit.max }}词\r\n          </view>\r\n          \r\n          <textarea\r\n            class=\"writing-input\"\r\n            v-model=\"userAnswers.writing\"\r\n            placeholder=\"请用英文写作...\"\r\n            @blur=\"checkEnglishInput($event, 'writing')\"\r\n            maxlength=\"-1\"\r\n          />\r\n        </view>\r\n      </scroll-view>\r\n      \r\n      <!-- 底部控制栏 -->\r\n      <view class=\"exam-footer\">\r\n        <button class=\"submit-btn\" @tap=\"finishExam\">结束考试</button>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 考试结束页 -->\r\n    <view v-else class=\"exam-finished\">\r\n      <view class=\"score-summary\">\r\n        <text class=\"total-score\">总分：{{ scores.total }}</text>\r\n        <view class=\"score-details\">\r\n          <view class=\"score-item\">\r\n            <text class=\"label\">听力：</text>\r\n            <text class=\"value\">{{ scores.listening }}</text>\r\n          </view>\r\n          <view class=\"score-item\">\r\n            <text class=\"label\">阅读：</text>\r\n            <text class=\"value\">{{ scores.reading }}</text>\r\n          </view>\r\n          <view class=\"score-item\">\r\n            <text class=\"label\">翻译：</text>\r\n            <text class=\"value\">{{ scores.translation }}</text>\r\n          </view>\r\n          <view class=\"score-item\">\r\n            <text class=\"label\">写作：</text>\r\n            <text class=\"value\">{{ scores.writing }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <button class=\"restart-btn\" @tap=\"restart\">重新开始</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<style>\r\n.container {\r\n  padding: 30rpx;\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n}\r\n\r\n/* 考试准备页样式 */\r\n.exam-ready {\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n}\r\n\r\n.category-selector {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.category-item {\r\n  padding: 20rpx 40rpx;\r\n  border-radius: 10rpx;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.category-item.active {\r\n  background-color: #4095E5;\r\n  color: #fff;\r\n}\r\n\r\n.exam-info {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.info-item .label {\r\n  width: 160rpx;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n.info-item .value {\r\n  flex: 1;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.start-btn {\r\n  width: 100%;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  background-color: #4095E5;\r\n  color: #fff;\r\n  border-radius: 40rpx;\r\n  font-size: 32rpx;\r\n}\r\n\r\n/* 考试进行中样式 */\r\n.exam-nav {\r\n  background-color: #fff;\r\n  padding: 20rpx;\r\n  border-radius: 20rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.timer {\r\n  text-align: center;\r\n  font-size: 32rpx;\r\n  color: #4095E5;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.section-tabs {\r\n  display: flex;\r\n  justify-content: space-around;\r\n}\r\n\r\n.tab-item {\r\n  padding: 10rpx 30rpx;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  border-radius: 30rpx;\r\n}\r\n\r\n.tab-item.active {\r\n  background-color: #4095E5;\r\n  color: #fff;\r\n}\r\n\r\n.exam-content {\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 100rpx;\r\n  height: calc(100vh - 300rpx);\r\n}\r\n\r\n.audio-player {\r\n  width: 100rpx;\r\n  height: 100rpx;\r\n  background-color: #4095E5;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 auto 30rpx;\r\n}\r\n\r\n.audio-player .iconfont {\r\n  color: #fff;\r\n  font-size: 40rpx;\r\n}\r\n\r\n.section-name {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n  display: block;\r\n}\r\n\r\n.section-desc {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  margin-bottom: 30rpx;\r\n  display: block;\r\n}\r\n\r\n.question-item {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.question-text {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n  display: block;\r\n}\r\n\r\n.options {\r\n  padding-left: 20rpx;\r\n}\r\n\r\n.option-choice {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  padding: 20rpx;\r\n  border: 1px solid #eee;\r\n  border-radius: 10rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.option-choice.active {\r\n  background-color: rgba(64, 149, 229, 0.1);\r\n  border-color: #4095E5;\r\n}\r\n\r\n.option-key {\r\n  width: 60rpx;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n.option-content {\r\n  flex: 1;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.reading-passage {\r\n  margin-bottom: 40rpx;\r\n  padding: 30rpx;\r\n  background-color: #f9f9f9;\r\n  border-radius: 10rpx;\r\n}\r\n\r\n.passage-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n  display: block;\r\n}\r\n\r\n.passage-content {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  line-height: 1.8;\r\n}\r\n\r\n.translation-content,\r\n.writing-content {\r\n  padding: 30rpx;\r\n}\r\n\r\n.text-label {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  margin-bottom: 20rpx;\r\n  display: block;\r\n}\r\n\r\n.text-content {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  line-height: 1.8;\r\n  margin-bottom: 30rpx;\r\n  display: block;\r\n}\r\n\r\n.translation-input,\r\n.writing-input {\r\n  width: 100%;\r\n  height: 400rpx;\r\n  padding: 20rpx;\r\n  font-size: 28rpx;\r\n  line-height: 1.8;\r\n  background-color: #f9f9f9;\r\n  border: 1px solid #eee;\r\n  border-radius: 10rpx;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.word-limit {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin: 20rpx 0;\r\n}\r\n.option-number {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n  display: block;\r\n  margin-bottom: 10rpx;\r\n}\r\n.exam-footer {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: #fff;\r\n  padding: 20rpx;\r\n  box-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.submit-btn {\r\n  width: 100%;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  background-color: #4095E5;\r\n  color: #fff;\r\n  border-radius: 40rpx;\r\n  font-size: 32rpx;\r\n}\r\n\r\n/* 考试结束页样式 */\r\n.exam-finished {\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n}\r\n.option-item {\r\n  margin-bottom: 30rpx;\r\n}\r\n.score-summary {\r\n  text-align: center;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.total-score {\r\n  font-size: 48rpx;\r\n  color: #4095E5;\r\n  font-weight: bold;\r\n  margin-bottom: 30rpx;\r\n  display: block;\r\n}\r\n\r\n.score-details {\r\n  background-color: #f9f9f9;\r\n  border-radius: 10rpx;\r\n  padding: 30rpx;\r\n}\r\n\r\n.score-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.score-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.score-item .label {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n.score-item .value {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n}\r\n\r\n.restart-btn {\r\n  width: 100%;\r\n  height: 80rpx;\r\n  line-height: 80rpx;\r\n  background-color: #4095E5;\r\n  color: #fff;\r\n  border-radius: 40rpx;\r\n  font-size: 32rpx;\r\n  margin-top: 40rpx;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/yulidanprogram/second/EnglishCET-4andCET-6LearningSystem/pages/practice/mock-exam/mock-exam.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","uniCloud","onMounted","onUnmounted","MiniProgramPage"],"mappings":"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"}