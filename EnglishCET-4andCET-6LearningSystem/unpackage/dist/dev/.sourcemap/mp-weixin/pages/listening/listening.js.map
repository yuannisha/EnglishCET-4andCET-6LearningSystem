{"version":3,"file":"listening.js","sources":["pages/listening/listening.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbGlzdGVuaW5nL2xpc3RlbmluZy52dWU"],"sourcesContent":["<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue'\nimport { onShow, onHide } from '@dcloudio/uni-app'\n\n/**\n * @description 当前选择的类别\n */\nconst currentCategory = ref('CET4')\n\n/**\n * @description 类别选项\n */\nconst categoryOptions = ref([\n  { value: 'CET4', label: '四级听力' },\n  { value: 'CET6', label: '六级听力' }\n])\n\n/**\n * @description 当前套题编号\n */\nconst currentSet = ref(1)\n\n/** \n * @description 是否已作答所有题目\n */\nconst hasAnsweredAll = ref(false)\n\n/**\n * @description 总套数\n */\nconst totalSets = ref(0)\n\n/**\n * @description 题目Id\n */\nconst questionId = ref('')\n\n/**\n * @description 题目列表\n */\nconst questionList = ref([])\n\n/**\n * @description 用户答案\n */\nconst userAnswers = ref({})\n\n/** \n * @description 用户得分\n */\nconst userScore = ref(0)\n\n/**\n * @description 正确率\n */\nconst correctRate = ref(0)\n\n/**\n * @description 正确题目数量\n */\nconst correctCount = ref(0)\n\n/**\n * @description 是否显示答案\n */\nconst showAnswers = ref(false)\n\n/**\n * @description 正确答案\n */\nconst answers = ref([])\n\n/**\n * @description 音频是否正在播放\n */\nconst isPlaying = ref(false)\n\n/** \n * @description 音频对象\n */\nconst audioContext = ref(null)\n\n/**\n * @description 音频播放状态\n */\nconst audioPlayed = ref(false)\n\n/**\n * @description 加载题目数据\n */\nconst loadQuestions = async () => {\n  try {\n    uni.showLoading({\n      title: '加载中...'\n    })\n    \n    const { result } = await uniCloud.callFunction({\n      name: 'getListeningQuestions',\n      data: {\n        category: currentCategory.value,\n        set_number: currentSet.value\n      }\n    })\n    \n    console.log('题目数据:', result)\n    \n    if (result.code === 0) {\n      console.log('题目数据:', result.data)\n      questionList.value = result.data.list\n      totalSets.value = result.data.total_sets.total\n      answers.value = questionList.value[0].answers\n      questionId.value = questionList.value[0]._id\n      console.log(\"questionId.value\",questionId.value)\n      // 重置答案\n      userAnswers.value = {}\n      showAnswers.value = false\n      hasAnsweredAll.value = false\n      \n      // 重置音频状态\n      if (audioContext.value) {\n        audioContext.value.destroy()\n        audioContext.value = null\n      }\n      isPlaying.value = false\n      audioPlayed.value = false\n    } else {\n      uni.showToast({\n        title: result.msg || '加载失败',\n        icon: 'none'\n      })\n    }\n  } catch (e) {\n    console.error('加载题目失败:', e)\n    uni.showToast({\n      title: '加载失败',\n      icon: 'none'\n    })\n  } finally {\n    uni.hideLoading()\n  }\n}\n\n/**\n * @description 切换类别\n */\nconst handleCategoryChange = (category) => {\n  currentCategory.value = category\n  currentSet.value = 1\n  questionChange()\n  loadQuestions()\n}\n\n/**\n * @description 切换套题\n */\nconst questionChange = () => {\n  answers.value = []\n  userAnswers.value = {}\n  showAnswers.value = false\n  isPlaying.value = false\n  audioPlayed.value = false\n  correctCount.value = 0\n  correctRate.value = 0\n  userScore.value = 0\n  hasAnsweredAll.value = false\n}\n\n\n/**\n * @description 上一套题\n */\nconst prevSet = () => {\n  if (currentSet.value > 1) {\n    currentSet.value--\n    questionChange()\n    loadQuestions()\n  }\n}\n\n/**\n * @description 下一套题\n */\nconst nextSet = () => {\n  if (currentSet.value < totalSets.value) {\n    currentSet.value++\n    questionChange()\n    loadQuestions()\n  }\n}\n\n/**\n * @description 选择答案\n */\nconst selectAnswer = (questionNumber, answer) => {\n  console.log(\"answers[questionNumber - 1]?.key\",answers.value[questionNumber - 1].key)\n  if (showAnswers.value){\n    uni.showToast({ \n      title: '答案已提交，请勿重复作答',\n      icon: 'none'\n    })\n    return\n  }\n  userAnswers.value[`${questionNumber}`] = answer\n  console.log(\"userAnswers.value\",userAnswers.value)\n  console.log(\"userAnswers.value.length\",Object.keys(userAnswers.value).length)\n  console.log(\"questionList.value[0].answers.length\",questionList.value[0].answers.length)\n  if (Object.keys(userAnswers.value).length === questionList.value[0].answers.length) {\n    hasAnsweredAll.value = true\n  } else {\n    hasAnsweredAll.value = false\n  } \n  console.log(\"hasAnsweredAll.value\",hasAnsweredAll.value)\n}\n\n/**\n * @description 播放音频\n */\nconst playAudio = () => {\n  if (!questionList.value.length) return\n  \n  if (!audioContext.value) {\n    audioContext.value = uni.createInnerAudioContext()\n    audioContext.value.src = questionList.value[0].audio_file\n    \n    audioContext.value.onPlay(() => {\n      isPlaying.value = true\n      audioPlayed.value = true\n    })\n    \n    audioContext.value.onPause(() => {\n      isPlaying.value = false\n    })\n    \n    audioContext.value.onEnded(() => {\n      isPlaying.value = false\n      audioPlayed.value = true\n    })\n    \n    audioContext.value.onError((err) => {\n      console.error('音频播放错误:', err)\n      isPlaying.value = false\n      uni.showToast({\n        title: '音频播放失败',\n        icon: 'none'\n      })\n    })\n  }\n  \n  if (isPlaying.value) {\n    audioContext.value.pause()\n  } else {\n    audioContext.value.play()\n  }\n}\n\n/**\n * @description 重新开始播放\n */\nconst restartAudio = () => {\n  if (!audioContext.value) return\n  \n  audioContext.value.stop()\n  audioContext.value.seek(0)\n  setTimeout(() => {\n    audioContext.value.play()\n  }, 100)\n}\n\n/**\n * @description 提交答案\n */\nconst submitAnswers = async () => {\n    console.log(userAnswers.value) \n  if (Object.keys(userAnswers.value).length === 0) {\n    uni.showToast({\n      title: '请先作答',\n      icon: 'none'\n    })\n    return\n  }\n  if(showAnswers.value){\n    uni.showToast({\n      title: '答案已提交，请勿重复作答',\n      icon: 'none'\n    })\n    return\n  }\n  \n  try {\n    // 更新练习记录\n    Object.entries(userAnswers.value).map(([key, value]) => {\n      console.log(\"answers.value[key - 1].content\",answers?.value[key - 1]?.content)\n      console.log(\"key\",key)\n      console.log(\"value\",value)  \n      if (value === answers?.value[key - 1]?.content){\n        //如果结果有小数则取一位小数\n        userScore.value += Math.round(answers?.value[key - 1]?.score * 10) / 10\n        correctCount.value ++\n      } \n    })\n    userScore.value = Math.round(userScore.value * 10) / 10\n    correctRate.value = (Math.round(correctCount.value / Object.keys(userAnswers.value).length * 100) / 100)* 100\n    console.log(\"correctCount\",correctCount.value)\n    console.log(\"correctRate.value\",correctRate.value) \n    console.log(\"userScore.value\",userScore.value)\n    \n    console.log(\"correctCount\",correctCount.value)\n\n    const user_id = uni.getStorageSync('userInfo')._id\n    \n    await uniCloud.callFunction({\n      name: 'saveAndUpdatePracticeRecord',\n      data: {\n        userId: user_id,\n        question_id: questionId.value,\n        question_type:'listening',\n        correctCount: correctCount.value,\n        correctRate: correctRate.value,\n        userScore: userScore.value,\n      }\n    })\n    console.log(\"showAnswers.value,到这里了！！111111\",showAnswers.value)\n    showAnswers.value = true\n    console.log(\"showAnswers.value,到这里了！！\",showAnswers.value)\n  } catch (e) {\n    console.error(e)\n    uni.showToast({\n      title: '提交失败',\n      icon: 'none'\n    })\n  }\n}\n\n/**\n * @description 重新开始练习\n */\nconst restartPractice = () => {\n  uni.showModal({ \n    title: '提示',\n    content: '确定要重新开始练习吗？',\n    success: (res) => {\n      if (res.confirm) {\n        userAnswers.value = {}  \n        correctCount.value = 0\n        correctRate.value = 0\n        userScore.value = 0 \n        showAnswers.value = false\n        hasAnsweredAll.value = false\n        loadQuestions()\n      }\n    }\n  })\n}\n\n/**\n * @description 重置答案\n */\nconst resetAnswers = () => {\n  uni.showModal({\n    title: '提示',\n    content: '确定要重置所有答案吗？',\n    success: (res) => {\n      if (res.confirm) {\n        userAnswers.value = {}\n        showAnswers.value = false\n        hasAnsweredAll.value = false\n      }\n    }\n  })\n}\n\n/**\n * @description 生命周期钩子\n */\nonMounted(() => {\n  console.log('onMounted triggered')\n  if(!uni.getStorageSync('userInfo')) {\n    uni.showToast({\n      title: '请先登录',\n      icon: 'none',\n      duration: 2000\n    })\n    uni.navigateTo({\n      url: '/pages/login/login'\n    })\n  } else {\n    loadQuestions()\n  }\n})\n\nonShow(() => {\n  console.log('onShow triggered')\n  if(uni.getStorageSync('userInfo')) {\n    loadQuestions()\n  }\n})\n\nonHide(() => {\n  console.log('onHide triggered')\n  if (audioContext.value) {\n    audioContext.value.pause()\n    isPlaying.value = false\n  }\n})\n\nonUnmounted(() => {\n  console.log('onUnmounted triggered')\n  if (audioContext.value) {\n    audioContext.value.destroy()\n    isPlaying.value = false\n    audioPlayed.value = false\n  }\n})\n</script>\n\n<template>\n  <view class=\"container\">\n    <!-- 顶部类别选择 -->\n    <view class=\"category-selector\">\n      <view \n        class=\"category-item\" \n        v-for=\"item in categoryOptions\" \n        :key=\"item.value\"\n        :class=\"{ active: currentCategory === item.value }\"\n        @tap=\"handleCategoryChange(item.value)\"\n      >\n        {{ item.label }}\n      </view>\n    </view>\n    \n\n    <!-- 增加一个显示当前练习结果的组件 -->\n    <view class=\"practice-result\" v-if=\"showAnswers\">\n      <text>正确率：{{ correctRate }}%</text>\n      <text>得分：{{ userScore }}</text>\n      <text>正确题目数量：{{ correctCount }}</text>\n      <button class=\"restart-btn\" @tap=\"restartPractice\">重新开始练习</button>\n    </view>\n    <!-- 套题导航 -->\n    <view class=\"set-navigation\">\n      <text class=\"set-info\">第 {{ currentSet }} 套 / 共 {{ totalSets }} 套</text>\n      <view class=\"set-actions\">\n        <button class=\"nav-btn\" @tap=\"prevSet\" :disabled=\"currentSet <= 1\">上一套</button>\n        <button class=\"nav-btn\" @tap=\"nextSet\" :disabled=\"currentSet >= totalSets\">下一套</button>\n      </view>\n    </view>\n    \n    <!-- 题目内容 -->\n    <scroll-view class=\"question-content\" scroll-y>\n      <block v-if=\"questionList && questionList.length > 0\">\n        <block v-for=\"(section, sectionIndex) in questionList[0]?.question_content\" :key=\"sectionIndex\">\n          <!-- Section标题和说明 -->\n          <view class=\"section-header\">\n            <text class=\"section-name\">{{ section.section_name }}</text>\n            <text class=\"section-desc\">{{ section.description }}</text>\n          </view>\n          \n          <!-- 问题列表 -->\n          <view class=\"questions\" v-for=\"(question, questionIndex) in section.questions\" :key=\"questionIndex\">\n            <text class=\"question-desc\">{{ question.description1 }}</text>\n            \n            <!-- 选项列表 -->\n            <view class=\"options-list\">\n              <view \n                class=\"option-item\" \n                v-for=\"option in question.options\" \n                :key=\"option.tips\"\n              >\n                <text class=\"option-number\">Question {{ option.tips }}</text>\n                <view \n                  class=\"option-choice\"\n                  v-for=\"(content, key) in option.content\"\n                  :key=\"key\"\n                  :class=\"{ \n                    active: userAnswers[`${option.tips}`] === key,\n                    correct: showAnswers && answers[option.tips - 1]?.content === key,\n                    wrong: showAnswers && userAnswers[`${option.tips}`] === key && answers[option.tips - 1]?.content !== key\n                  }\"\n                  @tap=\"selectAnswer(option.tips, key)\"\n                >\n                  <text class=\"option-key\">{{ key }}</text>\n                  <text class=\"option-content\">{{ content }}</text>\n                </view>\n              </view>\n            </view>\n          </view>\n        </block>\n      </block>\n      <view v-else class=\"empty-tip\">\n        <text>暂无题目数据</text>\n      </view>\n    </scroll-view>\n\n    <!-- 固定在底部的控制栏 -->\n    <view class=\"fixed-bottom\">\n      <view class=\"audio-controls\">\n        <button \n          class=\"control-btn\" \n          @tap=\"playAudio\"\n          :disabled=\"!questionList.length\"\n        >\n          {{ isPlaying ? '暂停' : (audioPlayed ? '继续' : '播放') }}\n        </button>\n        <button \n          class=\"control-btn\" \n          @tap=\"restartAudio\"\n          :disabled=\"!questionList.length || !audioPlayed\"\n        >\n          重新播放\n        </button>\n        <button \n          class=\"control-btn\" \n          @tap=\"resetAnswers\"\n          :disabled=\"!Object.keys(userAnswers).length\"\n        >\n          重置答案\n        </button>\n      </view>\n      <button \n        class=\"submit-btn\" \n        @tap=\"submitAnswers\"\n        :disabled=\"!hasAnsweredAll || showAnswers\"\n      >\n        提交答案\n      </button>\n    </view>\n  </view>\n</template>\n\n<style>\n.container {\n  padding: 30rpx;\n  background-color: #f5f5f5;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.category-selector {\n  display: flex;\n  justify-content: space-between;\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 20rpx;\n  margin-bottom: 30rpx;\n}\n\n.category-item {\n  flex: 1;\n  text-align: center;\n  padding: 20rpx 0;\n  font-size: 28rpx;\n  color: #666;\n  border-radius: 10rpx;\n  margin: 0 10rpx;\n}\n\n.category-item.active {\n  background-color: #4095E5;\n  color: #fff;\n}\n\n.set-navigation {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 20rpx;\n  margin-bottom: 30rpx;\n}\n\n.set-info {\n  font-size: 28rpx;\n  color: #333;\n}\n\n.set-actions {\n  display: flex;\n  gap: 20rpx;\n}\n\n.question-content {\n  flex: 1;\n  height: calc(100vh - 400rpx); /* 减去顶部和底部的高度 */\n  margin-bottom: 160rpx; /* 为底部固定栏留出空间 */\n}\n\n.section-header {\n  margin-bottom: 30rpx;\n}\n\n.section-name {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n  display: block;\n  margin-bottom: 10rpx;\n}\n\n.section-desc {\n  font-size: 28rpx;\n  color: #666;\n  line-height: 1.5;\n}\n\n.questions {\n  margin-bottom: 40rpx;\n}\n\n.question-desc {\n  font-size: 28rpx;\n  color: #333;\n  margin-bottom: 20rpx;\n  display: block;\n}\n\n.options-list {\n  margin-bottom: 30rpx;\n}\n\n.option-item {\n  margin-bottom: 30rpx;\n}\n\n.option-number {\n  font-size: 28rpx;\n  color: #333;\n  font-weight: bold;\n  display: block;\n  margin-bottom: 10rpx;\n}\n\n.option-choice {\n  display: flex;\n  align-items: center;\n  padding: 20rpx;\n  border: 1px solid #eee;\n  border-radius: 10rpx;\n  margin-bottom: 10rpx;\n}\n\n.option-choice.active {\n  background-color: #4095E5;\n  border-color: #4095E5;\n}\n\n.option-choice.active text {\n  color: #fff;\n}\n\n.option-choice.correct {\n  background-color: #67c23a;\n  border-color: #67c23a;\n}\n\n.option-choice.correct text {\n  color: #fff;\n}\n\n.option-choice.wrong {\n  background-color: #f56c6c;\n  border-color: #f56c6c;\n}\n\n.option-choice.wrong text {\n  color: #fff;\n}\n\n.option-key {\n  width: 60rpx;\n  font-size: 28rpx;\n  color: #666;\n}\n\n.option-content {\n  flex: 1;\n  font-size: 28rpx;\n  color: #333;\n}\n\n.fixed-bottom {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #fff;\n  padding: 20rpx;\n  box-shadow: 0 -2rpx 10rpx rgba(0,0,0,0.05);\n  z-index: 100;\n}\n\n.audio-controls {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20rpx;\n}\n\n.control-btn {\n  flex: 1;\n  margin: 0 10rpx;\n  height: 70rpx;\n  line-height: 70rpx;\n  font-size: 26rpx;\n  background-color: #f8f8f8;\n  color: #333;\n}\n\n.control-btn[disabled] {\n  background-color: #f5f5f5;\n  color: #999;\n}\n\n.submit-btn {\n  width: 100%;\n  height: 80rpx;\n  line-height: 80rpx;\n  background-color: #4095E5;\n  color: #fff;\n  font-size: 28rpx;\n  border-radius: 40rpx;\n}\n\n.submit-btn[disabled] {\n  background-color: #ccc;\n}\n\n.empty-tip {\n  text-align: center;\n  padding: 40rpx;\n  color: #999;\n  font-size: 28rpx;\n}\n.practice-result{\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 30rpx;\n  background-color: #fff;\n  border-radius: 20rpx;\n} \n.practice-result text{\n  font-size: 30rpx;\n  color: #d65252;\n} \n.restart-btn{\n  background-color: #4095E5;\n  color: #fff;\n  width: 160rpx;\n  height: 120rpx;\n  line-height: 60rpx;\n  font-size: 30rpx; \n} \n</style> ","import MiniProgramPage from 'D:/programs2024to2025/yulidanprogram/second/EnglishCET-4andCET-6LearningSystem/pages/listening/listening.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","uniCloud","onMounted","onShow","onHide","onUnmounted","MiniProgramPage"],"mappings":"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"}