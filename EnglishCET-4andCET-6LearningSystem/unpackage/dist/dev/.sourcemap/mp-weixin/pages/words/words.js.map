{"version":3,"file":"words.js","sources":["pages/words/words.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd29yZHMvd29yZHMudnVl"],"sourcesContent":["<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { onShow } from '@dcloudio/uni-app'\r\n\r\n/**\r\n * @description 单词列表数据\r\n */\r\nconst wordList = ref([])\r\n\r\n/**\r\n * @description 当前学习的单词索引\r\n */\r\nconst currentIndex = ref(0)\r\n\r\n/**\r\n * @description 音频是否正在播放\r\n */\r\nconst audioIsPlaying = ref(false) \r\n\r\n/**\r\n * @description 当前选择的类别\r\n */\r\nconst currentCategory = ref('CET4')\r\n\r\n/**\r\n * @description 类别选项\r\n */\r\nconst categoryOptions = ref([\r\n  { value: 'CET4', label: '四级词汇' },\r\n  { value: 'CET6', label: '六级词汇' }\r\n])\r\n\r\n/**\r\n * @description 是否显示单词释义\r\n */\r\nconst showMeaning = ref(false)\r\n\r\n/**\r\n * @description 单词学习状态\r\n */\r\nconst wordStatus = ref('new')\r\n\r\n/**\r\n * @description 学习进度统计\r\n */\r\nconst progressStats = ref({\r\n  total: 0,\r\n  learned: 0,\r\n  learning: 0,\r\n  new: 0\r\n})\r\n\r\n/**\r\n * @description 加载单词数据\r\n */\r\nconst loadWordList = async () => {\r\n  try {\r\n    uni.showLoading({\r\n      title: '加载中...'\r\n    })\r\n    \r\n    const { result } = await uniCloud.callFunction({\r\n      name: 'getWordList',\r\n      data: {\r\n        category: currentCategory.value,\r\n        page: 1,\r\n        pageSize: 50\r\n      }\r\n    })\r\n    \r\n    if (result.code === 0) {\r\n      wordList.value = result.data.list\r\n      currentIndex.value = 0\r\n      showMeaning.value = false\r\n      \r\n      // 加载单词学习状态\r\n      await loadWordProgress()\r\n    } else {\r\n      uni.showToast({\r\n        title: result.msg || '加载单词失败',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  } catch (e) {\r\n    console.error(e)\r\n    uni.showToast({\r\n      title: '加载单词失败',\r\n      icon: 'none'\r\n    })\r\n  } finally {\r\n    uni.hideLoading()\r\n  }\r\n}\r\n\r\n/**\r\n * @description 加载单词学习进度\r\n */\r\nconst loadWordProgress = async () => {\r\n  try {\r\n    const { result } = await uniCloud.callFunction({\r\n      name: 'getWordProgress',\r\n      data: {\r\n        user_id: uni.getStorageSync('userInfo')._id,\r\n        word_ids: wordList.value.map(word => word._id)\r\n      }\r\n    })\r\n    \r\n    if (result.code === 0) {\r\n      // 更新单词状态\r\n      wordList.value = wordList.value.map(word => {\r\n        const progress = result.data.find(p => p.word_id === word._id)\r\n        return {\r\n          ...word,\r\n          status: progress ? progress.status : 'new',\r\n          review_times: progress ? progress.review_times : 0\r\n        }\r\n      })\r\n      \r\n      // 更新当前单词状态\r\n      updateCurrentWordStatus()\r\n      \r\n      // 更新统计数据\r\n      progressStats.value = {\r\n        total: wordList.value.length,\r\n        learned: wordList.value.filter(w => w.status === 'learned').length,\r\n        learning: wordList.value.filter(w => w.status === 'learning').length,\r\n        new: wordList.value.filter(w => w.status === 'new').length\r\n      }\r\n    }\r\n  } catch (e) {\r\n    console.error('加载单词进度失败', e)\r\n  }\r\n}\r\n\r\n/**\r\n * @description 更新当前单词状态\r\n */\r\nconst updateCurrentWordStatus = () => {\r\n  if (wordList.value[currentIndex.value]) {\r\n    wordStatus.value = wordList.value[currentIndex.value].status\r\n  }\r\n}\r\n\r\n/**\r\n * @description 切换类别\r\n */\r\nconst handleCategoryChange = (value) => {\r\n  currentCategory.value = value\r\n  loadWordList()\r\n}\r\n\r\n/**\r\n * @description 朗读单词\r\n */\r\nconst playAudio = () => {\r\n  if(audioIsPlaying.value) return\r\n  \r\n  const audio = uni.createInnerAudioContext()\r\n  audio.autoplay = true\r\n  audio.src = 'https://dict.youdao.com/dictvoice?type=1&audio=' + wordList.value[currentIndex.value].word\r\n  \r\n  audio.play()\r\n  audioIsPlaying.value = true\r\n  \r\n  audio.onEnded(() => {\r\n    audioIsPlaying.value = false\r\n  })\r\n  \r\n  audio.onError(() => {\r\n    audioIsPlaying.value = false\r\n    uni.showToast({\r\n      title: '播放失败',\r\n      icon: 'none'\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * @description 切换到下一个单词\r\n */\r\nconst nextWord = async () => {\r\n  if (currentIndex.value < wordList.value.length - 1) {\r\n    // 更新当前单词状态，如果当前单词状态为new，则更新为learning\r\n    if (wordList.value[currentIndex.value].status === 'new') {\r\n      await updateWordProgress('learning')\r\n    }\r\n    \r\n    currentIndex.value++\r\n    showMeaning.value = false\r\n    updateCurrentWordStatus()\r\n  } else {\r\n    uni.showToast({\r\n      title: '已经是最后一个单词了',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * @description 切换到上一个单词\r\n */\r\nconst prevWord = () => {\r\n  if (currentIndex.value > 0) {\r\n    currentIndex.value--\r\n    showMeaning.value = false\r\n    updateCurrentWordStatus()\r\n  } else {\r\n    uni.showToast({\r\n      title: '已经是第一个单词了',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * @description 切换显示/隐藏释义\r\n */\r\nconst toggleMeaning = () => {\r\n  showMeaning.value = !showMeaning.value\r\n}\r\n\r\n/**\r\n * @description 标记单词状态\r\n */\r\nconst markWordStatus = async (status) => {\r\n  await updateWordProgress(status)\r\n  uni.showToast({\r\n    title: status === 'learned' ? '已掌握' : '继续学习',\r\n    icon: 'success'\r\n  })\r\n}\r\n\r\nconst updateUserLevel = async (userId,totalLearned,level) => {\r\n  const {result} = await uniCloud.callFunction({\r\n    name: 'updateUserInfo',\r\n    data: {\r\n      userId: userId,\r\n      totalLearned: totalLearned,\r\n      level: level\r\n    }\r\n  })\r\n\r\n  if(result.code === 0){\r\n            uni.showModal({\r\n              title: `恭喜你已经掌握了${totalLearned}个单词,你的等级已经提升为${level}！`,\r\n              icon: 'success',\r\n              duration: 4000\r\n      })\r\n  }\r\n}\r\n/**\r\n * @description 更新单词学习进度\r\n */\r\nconst updateWordProgress = async (status) => {\r\n  try {\r\n    const currentWord = wordList.value[currentIndex.value]\r\n    const {result} = await uniCloud.callFunction({\r\n      name: 'updateWordProgress',\r\n      data: {\r\n        user_id: uni.getStorageSync('userInfo')._id,\r\n        word_id: currentWord._id,\r\n        status: status\r\n      }\r\n    })\r\n    console.log(\"result\",result)\r\n    console.log(\"status\",status)\r\n    console.log(\"result.totalLearned.total\",result.totalLearned.total)\r\n    \r\n    if(result.code === 0 && status === 'learned' && result.totalLearned.total > 0){\r\n      uni.setStorageSync('userInfo',{\r\n        ...uni.getStorageSync('userInfo'),\r\n        points: result.totalLearned.total\r\n      })\r\n      console.log(\"uni.getStorageSync('userInfo')\",uni.getStorageSync('userInfo'))\r\n      if(uni.getStorageSync('userInfo').points > 2 && uni.getStorageSync('userInfo').points <= 4){\r\n        if(uni.getStorageSync('userInfo').level === '英语小白'){\r\n          uni.setStorageSync('userInfo',{\r\n            ...uni.getStorageSync('userInfo'),\r\n            level: '英语初学者'\r\n          })\r\n          console.log(\"uni.getStorageSync('userInfo,更新等级')\",uni.getStorageSync('userInfo'))\r\n          updateUserLevel(uni.getStorageSync('userInfo')._id,result.totalLearned.total,'英语初学者')\r\n        } \r\n      }else if(uni.getStorageSync('userInfo').points > 4 && uni.getStorageSync('userInfo').points <= 6){\r\n        if(uni.getStorageSync('userInfo').level === '英语初学者'){\r\n          uni.setStorageSync('userInfo',{\r\n            ...uni.getStorageSync('userInfo'),\r\n            level: '英语入门'\r\n          })\r\n        } \r\n        updateUserLevel(uni.getStorageSync('userInfo')._id,result.totalLearned.total,'英语入门')\r\n      }else if(uni.getStorageSync('userInfo').points > 6 && uni.getStorageSync('userInfo').points <= 8){\r\n        if(uni.getStorageSync('userInfo').level === '英语入门'){\r\n          uni.setStorageSync('userInfo',{\r\n            ...uni.getStorageSync('userInfo'),\r\n            level: '英语进阶'\r\n          })\r\n        } \r\n        updateUserLevel(uni.getStorageSync('userInfo')._id,result.totalLearned.total,'英语进阶')\r\n      }else if(uni.getStorageSync('userInfo').points > 8 && uni.getStorageSync('userInfo').points <= 10){\r\n        if(uni.getStorageSync('userInfo').level === '英语进阶'){\r\n          uni.setStorageSync('userInfo',{\r\n            ...uni.getStorageSync('userInfo'),\r\n            level: '英语高手'\r\n          })\r\n        } \r\n        updateUserLevel(uni.getStorageSync('userInfo')._id,result.totalLearned.total,'英语高手') \r\n      }else if(uni.getStorageSync('userInfo').points > 10 && uni.getStorageSync('userInfo').points <= 12){\r\n        if(uni.getStorageSync('userInfo').level === '英语高手'){\r\n          uni.setStorageSync('userInfo',{\r\n            ...uni.getStorageSync('userInfo'),\r\n            level: '英语大师'\r\n          })\r\n        } \r\n        updateUserLevel(uni.getStorageSync('userInfo')._id,result.totalLearned.total,'英语大师') \r\n      }else if(uni.getStorageSync('userInfo').points > 12){\r\n        if(uni.getStorageSync('userInfo').level === '英语大师'){\r\n          uni.setStorageSync('userInfo',{\r\n            ...uni.getStorageSync('userInfo'),\r\n            level: '英语王者'\r\n          })\r\n        }  \r\n        updateUserLevel(uni.getStorageSync('userInfo')._id,result.totalLearned.total,'英语王者') \r\n      }\r\n      \r\n    }\r\n    \r\n    // 更新本地状态\r\n    currentWord.status = status\r\n    wordStatus.value = status\r\n    \r\n    // 更新统计数据\r\n    progressStats.value = {\r\n      ...progressStats.value,\r\n      learned: wordList.value.filter(w => w.status === 'learned').length,\r\n      learning: wordList.value.filter(w => w.status === 'learning').length,\r\n      new: wordList.value.filter(w => w.status === 'new').length\r\n    }\r\n  } catch (e) {\r\n    console.error('更新进度失败', e)\r\n    uni.showToast({\r\n      title: '更新进度失败',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  if(!uni.getStorageSync('userInfo')) {\r\n    uni.showToast({\r\n      title: '请先登录',\r\n      icon: 'none',\r\n      duration: 2000\r\n    })\t\r\n    uni.navigateTo({\r\n      url: '/pages/login/login'\r\n    })\r\n  } else {\r\n    loadWordList()\r\n  }\t\r\n})\r\n\r\nonShow(() => {\r\n  loadWordList()\r\n})\r\n</script>\r\n\r\n<template>\r\n  <view class=\"container\">\r\n    <!-- 学习进度统计 -->\r\n    <view class=\"progress-stats\">\r\n      <view class=\"stat-item\">\r\n        <text class=\"stat-num\">{{ progressStats.learned }}</text>\r\n        <text class=\"stat-label\">已掌握</text>\r\n      </view>\r\n      <view class=\"stat-item\">\r\n        <text class=\"stat-num\">{{ progressStats.learning }}</text>\r\n        <text class=\"stat-label\">学习中</text>\r\n      </view>\r\n      <view class=\"stat-item\">\r\n        <text class=\"stat-num\">{{ progressStats.new }}</text>\r\n        <text class=\"stat-label\">未学习</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 类别选择器 -->\r\n    <view class=\"category-selector\">\r\n      <view \r\n        class=\"category-item\" \r\n        v-for=\"item in categoryOptions\" \r\n        :key=\"item.value\"\r\n        :class=\"{ active: currentCategory === item.value }\"\r\n        @tap=\"handleCategoryChange(item.value)\"\r\n      >\r\n        {{ item.label }}\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 单词卡片 -->\r\n    <view class=\"word-card\" v-if=\"wordList.length > 0\">\r\n      <view class=\"word-content\">\r\n        <view class=\"word-status\" :class=\"wordStatus\">\r\n          {{ wordStatus === 'learned' ? '已掌握' : wordStatus === 'learning' ? '学习中' : '未学习' }}\r\n        </view>\r\n        <text class=\"word\">{{ wordList[currentIndex].word }}</text>\r\n        <text class=\"phonetic\">/{{ wordList[currentIndex].phonetic }}/</text>\r\n        <button class=\"action-btn primary play-btn\" @tap=\"playAudio\">朗读</button>\r\n        <view class=\"meaning\" v-if=\"showMeaning\">\r\n          <text class=\"meaning-text\">{{ wordList[currentIndex].meaning }}</text>\r\n          <text class=\"example\">{{ wordList[currentIndex].example }}</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 操作按钮 -->\r\n      <view class=\"actions\">\r\n        <button class=\"action-btn\" @tap=\"prevWord\">上一个</button>\r\n        <button class=\"action-btn primary\" @tap=\"toggleMeaning\">\r\n          {{ showMeaning ? '隐藏释义' : '显示释义' }}\r\n        </button>\r\n        <button class=\"action-btn\" @tap=\"nextWord\">下一个</button>\r\n      </view>\r\n      \r\n      <!-- 学习状态按钮 -->\r\n      <view class=\"status-actions\">\r\n        <button \r\n          class=\"status-btn\"\r\n          :class=\"{ active: wordStatus === 'learned' }\"\r\n          @tap=\"markWordStatus('learned')\"\r\n        >\r\n          已掌握\r\n        </button>\r\n        <button \r\n          class=\"status-btn\"\r\n          :class=\"{ active: wordStatus === 'learning' }\"\r\n          @tap=\"markWordStatus('learning')\"\r\n        >\r\n          继续学习\r\n        </button>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 加载提示 -->\r\n    <view class=\"loading\" v-else>\r\n      <text>暂无单词</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<style>\r\n.container {\r\n  padding: 30rpx;\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n}\r\n\r\n.progress-stats {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: #4095E5;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.stat-item {\r\n  text-align: center;\r\n  color: #fff;\r\n}\r\n\r\n.stat-num {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  display: block;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 24rpx;\r\n  opacity: 0.9;\r\n}\r\n\r\n.category-selector {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 20rpx;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.category-item {\r\n  flex: 1;\r\n  text-align: center;\r\n  padding: 20rpx 0;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  border-radius: 10rpx;\r\n  margin: 0 10rpx;\r\n}\r\n\r\n.category-item.active {\r\n  background-color: #4095E5;\r\n  color: #fff;\r\n}\r\n\r\n.word-card {\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.05);\r\n}\r\n\r\n.word-content {\r\n  text-align: center;\r\n  margin-bottom: 40rpx;\r\n  position: relative;\r\n}\r\n\r\n.word-status {\r\n  position: absolute;\r\n  top: -20rpx;\r\n  right: -20rpx;\r\n  padding: 10rpx 20rpx;\r\n  border-radius: 30rpx;\r\n  font-size: 24rpx;\r\n  color: #fff;\r\n}\r\n\r\n.word-status.learned {\r\n  background-color: #67c23a;\r\n}\r\n\r\n.word-status.learning {\r\n  background-color: #e6a23c;\r\n}\r\n\r\n.word-status.new {\r\n  background-color: #909399;\r\n}\r\n\r\n.word {\r\n  font-size: 48rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.phonetic {\r\n  font-size: 32rpx;\r\n  color: #666;\r\n  display: block;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.meaning {\r\n  margin-top: 30rpx;\r\n  padding-top: 30rpx;\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n.meaning-text {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  display: block;\r\n  margin-bottom: 20rpx;\r\n  line-height: 1.5;\r\n}\r\n\r\n.example {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  display: block;\r\n  line-height: 1.5;\r\n  font-style: italic;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 40rpx;\r\n}\r\n\r\n.action-btn {\r\n  width: 30%;\r\n  font-size: 28rpx;\r\n  margin: 0;\r\n}\r\n\r\n.action-btn.primary {\r\n  background-color: #4095E5;\r\n  color: #fff;\r\n}\r\n\r\n.status-actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 30rpx;\r\n  padding-top: 30rpx;\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n.status-btn {\r\n  width: 45%;\r\n  font-size: 28rpx;\r\n  margin: 0;\r\n  background-color: #f5f5f5;\r\n  color: #666;\r\n}\r\n\r\n.status-btn.active {\r\n  background-color: #4095E5;\r\n  color: #fff;\r\n}\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 40rpx;\r\n  color: #666;\r\n}\r\n\r\n.play-btn {\r\n  width: 200rpx;\r\n  margin: 20rpx auto;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/yulidanprogram/second/EnglishCET-4andCET-6LearningSystem/pages/words/words.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","uniCloud","onMounted","onShow","MiniProgramPage"],"mappings":"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"}